{% extends "base.html" %}

{% block title %}Checkout{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px; margin: 2rem auto;">
    <h1>Checkout</h1>

    <div style="display: flex; gap: 2rem; flex-wrap: wrap;">
        <!-- Left Column: Order Summary (Items in your cart) -->
        <div style="flex: 1; min-width: 300px; background: #f9f9f9; padding: 20px; border-radius: 8px;">
            <h3>Your Order</h3>
            <ul style="list-style: none; padding: 0;">
                {% for item in cart %}
                <li style="border-bottom: 1px solid #ddd; padding: 10px 0;">
                    {{ item.quantity }}x {{ item.product.name }}
                    <span style="float: right;">${{ item.total_price }}</span>
                </li>
                {% endfor %}
            </ul>
            <h4 style="text-align: right; margin-top: 10px;">Total: ${{ cart.get_total_price }}</h4>
        </div>

        <!-- Right Column: Shipping Information Form -->
        <div style="flex: 1; min-width: 300px;">
            <h3>Shipping Information</h3>
            <form action="." method="post">
                {% csrf_token %}
                {% for field in form %}
                <div style="margin-bottom: 15px;">
                    <label style="display: block; font-weight: bold; margin-bottom: 5px;">{{ field.label }}</label>
                    {{ field }}
                    {% if field.errors %}
                    <div style="color: red; font-size: 0.9em;">
                        {{ field.errors }}
                    </div>
                    {% endif %}
                </div>
                {% endfor %}
                <button type="submit" class="btn"
                    style="background-color: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 4px; width: 100%; cursor: pointer;">Place
                    Order</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}